#N struct 1082-t-scope float x array bufr 1082-t-scope-value-r array
bufg 1082-t-scope-value-g;
#N struct 1082-t-scope-value-r float x float y;
#N struct 1082-t-scope-value-g float x float y;
#N canvas 616 120 625 516 10;
#X declare -path ..;
#X obj 477 207 phasor~ 0.1;
#X msg 13 325 \; pd dsp 1;
#X msg 13 363 \; pd dsp 0;
#X obj 477 277 ../misc/hoa.number~;
#X obj 119 185 ../misc/hoa.hgain~;
#X obj 119 163 osc~ 220;
#X obj 308 185 ../misc/hoa.hgain~;
#X obj 209 316 hoa.2d.rotate~ 4, f 28;
#X obj 209 422 hoa.2d.decoder~ 4 regular 10;
#X obj 119 234 hoa.2d.encoder~ 4, f 25;
#X obj 308 234 hoa.2d.encoder~ 4, f 25;
#X obj 308 163 osc~ 440;
#X obj 12 434 declare -path ..;
#X obj 12 457 hoa.credits;
#X obj 92 457 hoa-help;
#X obj 6 7 cnv 15 200 20 empty empty hoa.2d.rotate~ 4 10 0 14 -233017
-66577 0;
#X obj 209 454 hoa.dac~ 1:10, f 28;
#N canvas 0 22 450 300 \$0-scope 0;
#X scalar 1082-t-scope 0 \; 0.0130592 0 \; 0.0321628 0.00112943 \;
0.0503306 0.00353919 \; 0.0672 0.00710276 \; 0.0824587 0.0116544 \;
0.0958515 0.0169976 \; 0.107186 0.0229141 \; 0.116334 0.0291741 \;
0.123236 0.0355454 \; 0.127895 0.0418039 \; 0.130378 0.0477418 \; 0.130807
0.0531762 \; 0.129355 0.0579559 \; 0.126238 0.061967 \; 0.121701 0.0651365
\; 0.116016 0.0674352 \; 0.109465 0.0688769 \; 0.102332 0.0695183 \;
0.0948944 0.0694551 \; 0.0874127 0.0688174 \; 0.0801211 0.0677639 \;
0.073222 0.0664745 \; 0.0668799 0.0651421 \; 0.0612173 0.0639641 \;
0.0563125 0.0631332 \; 0.0521998 0.0628289 \; 0.0488699 0.0632087 \;
0.0462737 0.0644008 \; 0.0443264 0.066497 \; 0.0429132 0.0695478 \;
0.041897 0.0735583 \; 0.0411251 0.0784862 \; 0.0404384 0.0842414 \;
0.0396792 0.0906872 \; 0.0386996 0.0976442 \; 0.0373696 0.104894 \;
0.0355833 0.112188 \; 0.0332657 0.119252 \; 0.0303768 0.125799 \; 0.0269146
0.131535 \; 0.0229171 0.136173 \; 0.0184612 0.13944 \; 0.0136617 0.14109
\; 0.00866676 0.140914 \; 0.00365326 0.138743 \; -0.00118017 0.134464
\; -0.00562091 0.12802 \; -0.00945101 0.119415 \; -0.0124566 0.108717
\; -0.0144376 0.0960586 \; -0.0152168 0.0816353 \; -0.0146495 0.0657
\; -0.0126311 0.0485574 \; -0.0091051 0.0305576 \; -0.00406773 0.0120846
\; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \;
-0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0
0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0.00755786 0.003876 \; -0.0324596
0.0152325 \; -0.0584351 0.0249589 \; -0.0848535 0.0327715 \; -0.111032
0.0384612 \; -0.136249 0.0419022 \; -0.159766 0.0430592 \; -0.180843
0.0419919 \; -0.19876 0.0388558 \; -0.212835 0.0339008 \; -0.222445
0.0274665 \; -0.227043 0.0199747 \; -0.226174 0.0119191 \; -0.219491
0.00385214 \; -0.206768 -0.00362981 \; -0.187907 -0.00990331 \; -0.162946
-0.0143364 \; -0.132064 -0.0163072 \; -0.0955743 -0.0152237 \; -0.0539286
-0.0105428 \; -0.00770405 -0.00178893 \; -0 -0 \; -0 -0 \; -0 -0 \;
-0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0
\; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0
-0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \;
-0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0
\; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; 0 -0 \; 0 -0 \; 0.000838581
-0.00866 \; 0.0073056 -0.0551783 \; 0.0161655 -0.0960527 \; 0.0267829
-0.130888 \; 0.0384989 -0.159433 \; 0.0506528 -0.18158 \; 0.0625986
-0.19736 \; 0.0737255 -0.206941 \; 0.0834747 -0.210615 \; 0.0913543
-0.208789 \; 0.0969522 -0.201969 \; 0.099947 -0.190744 \; 0.100115
-0.175769 \; 0.0973337 -0.157743 \; 0.0915855 -0.137392 \; 0.082954
-0.115449 \; 0.0716196 -0.0926325 \; 0.0578525 -0.069632 \; 0.0420022
-0.0470891 \; 0.0244866 -0.0255851 \; 0.00577561 -0.00562548 \; 0 -0
\; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \;
0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0
\; 0 -0 \; 0 -0 \; 0 -0 \; 0.0130617 5.83387e-08 \; \; -0 -0 \; -0
-0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \;
-0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0
\; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0
-0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \;
-0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0
\; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; 0 -0 \; 0 -0 \; 0 -0
\; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; -0.0024273
0.00645273 \; -0.0102671 0.0246339 \; -0.0192794 0.0420381 \; -0.0292347
0.058258 \; -0.0398506 0.0729116 \; -0.0507982 0.0856545 \; -0.0617101
0.096191 \; -0.0721906 0.104284 \; -0.0818276 0.109764 \; -0.0902043
0.112532 \; -0.0969141 0.112568 \; -0.101573 0.109929 \; -0.103835
0.10475 \; -0.103403 0.0972387 \; -0.100046 0.0876726 \; -0.093602
0.0763883 \; -0.0839976 0.0637729 \; -0.0712465 0.0502504 \; -0.0554591
0.0362697 \; -0.0368436 0.0222896 \; -0.015705 0.00876351 \; 0 -0 \;
0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0
\; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0
\; 0 0 \; 0 0 \; -0.0424077 -0.0114297 \; -0.0956127 -0.0294054 \;
-0.15103 -0.0523175 \; -0.207717 -0.0802241 \; -0.264684 -0.113054
\; -0.320919 -0.150601 \; -0.375413 -0.19253 \; -0.42718 -0.238373
\; -0.475284 -0.28754 \; -0.518858 -0.339331 \; -0.557125 -0.392946
\; -0.589417 -0.447503 \; -0.61519 -0.50206 \; -0.634038 -0.555629
\; -0.645699 -0.607209 \; -0.650065 -0.655799 \; -0.647179 -0.700426
\; -0.637236 -0.740173 \; -0.620577 -0.774193 \; -0.597677 -0.801737
\; -0.569137 -0.822166 \; -0.535662 -0.834976 \; -0.498048 -0.839803
\; -0.457159 -0.836437 \; -0.413906 -0.824828 \; -0.369221 -0.805086
\; -0.324041 -0.777481 \; -0.279277 -0.742439 \; -0.235797 -0.700528
\; -0.194404 -0.652449 \; -0.155819 -0.59902 \; -0.120662 -0.541158
\; -0.089442 -0.479853 \; -0.0625453 -0.41615 \; -0.0402301 -0.351127
\; -0.0226236 -0.285869 \; -0.00972135 -0.221433 \; -0.00139342 -0.158847
\; 0.00260909 -0.0990707 \; 0.00264339 -0.0429762 \; -0 0 \; -0 0 \;
-0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0
0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \;
-0 0 \; -0 0 \; 0.013622 -0.0123666 \; 0.0331748 -0.0280579 \; 0.0523445
-0.0412089 \; 0.0706069 -0.0516781 \; 0.0874604 -0.0594151 \; 0.102444
-0.0644589 \; 0.115154 -0.0669334 \; 0.125247 -0.0670338 \; 0.132457
-0.065019 \; 0.136596 -0.0611993 \; 0.137563 -0.055922 \; 0.135341
-0.0495586 \; 0.13 -0.0424914 \; 0.121691 -0.0350993 \; 0.110639 -0.0277454
\; 0.0971396 -0.0207661 \; 0.0815431 -0.0144599 \; 0.0642475 -0.00908023
\; 0.0456847 -0.00482847 \; 0.0263074 -0.00184979 \; 0.00657398 -0.000230821
\; -0 -0 \; \;;
#X coords -1 -1 1 1 164 165 2 100 100;
#X restore 420 306 pd \$0-scope;
#X obj 12 412 text define -k \$0-scope-attrs;
#A set gain 118 \; interval 150 \;;
#X obj 209 349 hoa.2d.process~ 4 ../patchers/hoa.gui.2d.scope~ harmonics
\$0-scope \$0-scope-attrs, f 28;
#X obj 404 207 hoa.pi~ 1;
#X obj 215 208 hoa.pi~ 0;
#X obj 477 234 hoa.pi~ 2;
#X text 486 249 Angle of rotation θ in radian (-π & π), f 20;
#X text 373 143 The argument is the order of decomposition N., f 29
;
#X text 373 113 The last inlet set the angle of the rotation θ in
radian., f 29;
#X text 5 29 hoa.2d.rotate~ applies a rotation on the ambisonic sound
field. The rotation amounts for each degree l to combine and to weight
the signals of its two component harmonics to resynthesize them following
the formula:;
#X text 5 86 Y'[0 \, Ø](θ) = Y[0 \, Ø];
#X text 5 103 Y'[l \, -l](θ) = Y[l \, l]sin(lθ) + Y[l \, -l]cos(lθ)
;
#X text 5 120 Y'[l \, l](θ) = Y[l \, l]cos(lθ) - Y[l \, -l]sin(lθ)
;
#X connect 0 0 22 0;
#X connect 4 0 9 0;
#X connect 5 0 4 0;
#X connect 6 0 10 0;
#X connect 7 0 8 0;
#X connect 7 0 19 0;
#X connect 7 1 8 1;
#X connect 7 1 19 1;
#X connect 7 2 8 2;
#X connect 7 2 19 2;
#X connect 7 3 8 3;
#X connect 7 3 19 3;
#X connect 7 4 8 4;
#X connect 7 4 19 4;
#X connect 7 5 8 5;
#X connect 7 5 19 5;
#X connect 7 6 8 6;
#X connect 7 6 19 6;
#X connect 7 7 8 7;
#X connect 7 7 19 7;
#X connect 7 8 8 8;
#X connect 7 8 19 8;
#X connect 8 0 16 0;
#X connect 8 1 16 1;
#X connect 8 2 16 2;
#X connect 8 3 16 3;
#X connect 8 4 16 4;
#X connect 8 5 16 5;
#X connect 8 6 16 6;
#X connect 8 7 16 7;
#X connect 8 8 16 8;
#X connect 8 9 16 9;
#X connect 9 0 7 0;
#X connect 9 1 7 1;
#X connect 9 2 7 2;
#X connect 9 3 7 3;
#X connect 9 4 7 4;
#X connect 9 5 7 5;
#X connect 9 6 7 6;
#X connect 9 7 7 7;
#X connect 9 8 7 8;
#X connect 10 0 7 0;
#X connect 10 1 7 1;
#X connect 10 2 7 2;
#X connect 10 3 7 3;
#X connect 10 4 7 4;
#X connect 10 5 7 5;
#X connect 10 6 7 6;
#X connect 10 7 7 7;
#X connect 10 8 7 8;
#X connect 11 0 6 0;
#X connect 20 0 10 1;
#X connect 21 0 9 1;
#X connect 22 0 3 0;
#X connect 22 0 7 9;
#X coords 0 516 1 515 100 60 0;
