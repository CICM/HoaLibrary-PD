#N struct 1056-t-scope float x array bufr 1056-t-scope-value-r array
bufg 1056-t-scope-value-g;
#N struct 1056-t-scope-value-r float x float y;
#N struct 1056-t-scope-value-g float x float y;
#N canvas 150 41 721 433 10;
#X declare -path ..;
#X msg 219 338 \; pd dsp 1;
#X msg 219 382 \; pd dsp 0;
#X obj 478 133 line~;
#X msg 478 113 \$1 20;
#X obj 478 90 nbx 5 14 0 1 0 0 empty \$0-wfac empty 0 -8 0 10 -262144
-1 -1 1 256;
#X obj 313 81 hoa.2d.encoder~ 7, f 26;
#X obj 466 34 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0.65 256;
#X obj 313 395 hoa.dac~ 1:16, f 28;
#X obj 313 365 hoa.2d.decoder~ 7 regular 16;
#X obj 10 376 declare -path ..;
#X obj 10 399 hoa.credits;
#X obj 90 399 hoa-help;
#X obj 11 353 text define -k \$0-scope-attrs;
#A set gain 118 \; interval 150 \;;
#X obj 6 6 cnv 15 200 20 empty empty hoa.2d.wider~ 4 10 0 14 -233017
-66577 0;
#X obj 313 167 hoa.2d.wider~ 7, f 28;
#N canvas 0 22 450 300 \$0-scope 0;
#X scalar 1056-t-scope 0 \; 0.000683394 0 \; 0 0 \; 0 0 \; 0 0 \; 0
0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 6.18589e-05
3.0365e-05 \; 0.000679631 0.00036375 \; 0.00123015 0.000715033 \; 0.00167609
0.00105462 \; 0.00198903 0.00135123 \; 0.00215138 0.00157464 \; 0.00215745
0.00169849 \; 0.00201347 0.00170293 \; 0.00173677 0.00157672 \; 0.00135401
0.00131883 \; 0.000898803 0.000939132 \; 0.000408722 0.000458227 \;
0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0
\; 0 0 \; 0 0 \; 5.06054e-05 0.000181413 \; 0.000234672 0.000971845
\; 0.000352687 0.00172363 \; 0.000400604 0.00238038 \; 0.000382733
0.00289084 \; 0.000311104 0.00321291 \; 0.000204017 0.00331712 \; 8.3976e-05
0.00318923 \; -2.48535e-05 0.00283172 \; -9.94067e-05 0.00226406 \;
-0.00012043 0.00152164 \; -7.48961e-05 0.000653664 \; -0 0 \; -0 0
\; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \;
-0 0 \; -0 0 \; -0.000237947 0.000370901 \; -0.000945215 0.00136543
\; -0.00168989 0.00226683 \; -0.00241309 0.00301039 \; -0.00305011
0.00354278 \; -0.0035353 0.00382614 \; -0.00380739 0.00384094 \; -0.003815
0.00358756 \; -0.00352189 0.00308633 \; -0.00291139 0.00237598 \; -0.0019899
0.00151077 \; -0.000788727 0.000556291 \; -0 0 \; -0 0 \; -0 0 \; -0
0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \;
-0.00173572 0.000276469 \; -0.00561969 0.000693893 \; -0.00991718 0.000872491
\; -0.0144728 0.000762699 \; -0.0191106 0.000335396 \; -0.0236433 -0.000415058
\; -0.027882 -0.00146947 \; -0.0316459 -0.00278429 \; -0.034773 -0.00429376
\; -0.0371282 -0.00591403 \; -0.038611 -0.0075483 \; -0.039161 -0.00909344
\; -0.0387609 -0.0104468 \; -0.0374372 -0.0115137 \; -0.0352583 -0.0122136
\; -0.0323305 -0.0124866 \; -0.0287913 -0.0122975 \; -0.0248018 -0.011639
\; -0.0205375 -0.0105326 \; -0.0161783 -0.00902774 \; -0.0118991 -0.00719879
\; -0.00786057 -0.00514078 \; -0.00420123 -0.00296317 \; -0.00103137
-0.000783045 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0
\; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0.00052602
-0.00104825 \; -0.00111528 -0.00243186 \; -0.0014985 -0.0035954 \;
-0.00168097 -0.00446874 \; -0.00168435 -0.00500403 \; -0.00154284 -0.00517801
\; -0.00129876 -0.00499288 \; -0.000997885 -0.00447541 \; -0.000684822
-0.00367404 \; -0.000399026 -0.00265495 \; -0.000171494 -0.00149679
\; -2.25473e-05 -0.000284905 \; -0 -0 \; -0 -0 \; 0 -0 \; 0 -0 \; 0
-0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0.000285096
-0.000719325 \; 0.000652906 -0.00149221 \; 0.00101642 -0.00211739 \;
0.00134109 -0.00255941 \; 0.00159368 -0.00279798 \; 0.0017454 -0.00282867
\; 0.00177482 -0.00266251 \; 0.00167006 -0.00232426 \; 0.00143013 -0.00184972
\; 0.00106557 -0.00128254 \; 0.000597914 -0.000670328 \; 5.82034e-05
-6.08144e-05 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0
\; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0.000662096 -0.000242443
\; 0.0013129 -0.000429131 \; 0.0018797 -0.000542162 \; 0.00232057 -0.000581937
\; 0.00260247 -0.000556343 \; 0.00270393 -0.000479483 \; 0.0026166
-0.000369809 \; 0.00234603 -0.000247955 \; 0.00191129 -0.000134391
\; 0.00134342 -4.71694e-05 \; 0.000683296 3.05186e-09 \; \; -0 -0 \;
2.14831e-05 7.54401e-07 \; 0.000720552 5.06683e-05 \; 0.00136395 0.000144164
\; 0.00190626 0.000269424 \; 0.00230985 0.000409612 \; 0.00254765 0.000544636
\; 0.00260503 0.000653287 \; 0.00248078 0.000715544 \; 0.002187 0.000714846
\; 0.00174798 0.000640077 \; 0.00119822 0.000487106 \; 0.000579602
0.000259683 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \;
-0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; 7.77759e-05 9.36128e-05
\; 0.00052453 0.000678432 \; 0.000900517 0.00125328 \; 0.00118214 0.0017734
\; 0.00135487 0.00219578 \; 0.00141408 0.00248269 \; 0.00136493 0.00260493
\; 0.00122146 0.00254455 \; 0.0010049 0.00229672 \; 0.000741457 0.00187079
\; 0.000459586 0.00129003 \; 0.000187279 0.00059046 \; -0 -0 \; -0
-0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; 0 -0 \;
0 -0 \; 0 -0 \; 0 -0 \; -4.21506e-05 0.000280444 \; -0.000226474 0.00121499
\; -0.000464429 0.00208288 \; -0.00073373 0.00282065 \; -0.00100506
0.00337307 \; -0.0012446 0.00369753 \; -0.00141716 0.00376736 \; -0.00148962
0.00357406 \; -0.00143462 0.00312816 \; -0.00123383 0.00245874 \; -0.000880794
0.00161152 \; -0.000382855 0.000645558 \; 0 -0 \; 0 -0 \; 0 -0 \; 0
-0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0
\; -0.000635542 0.000415637 \; -0.00220256 0.0013325 \; -0.00381155
0.00212688 \; -0.0053464 0.00274187 \; -0.00668198 0.0031357 \; -0.00769162
0.00328526 \; -0.00825527 0.00318829 \; -0.00826756 0.00286387 \; -0.00764548
0.0023513 \; -0.00633506 0.00170739 \; -0.00431654 0.00100231 \; -0.00160752
0.000314256 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 0 \; 0 0 \;
0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0
\; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; -0.00157161 -0.00128259
\; -0.003565 -0.00312414 \; -0.00494114 -0.00464659 \; -0.00572497
-0.00577546 \; -0.00597018 -0.00646138 \; -0.00575366 -0.00668309 \;
-0.00516887 -0.00644836 \; -0.00431864 -0.00579311 \; -0.00330792 -0.00477857
\; -0.0022368 -0.00348666 \; -0.0011947 -0.00201449 \; -0.000255437
-0.000467358 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0
0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; -3.93032e-05 -0.00089525 \; -1.7225e-05
-0.00196361 \; 7.50881e-05 -0.0028512 \; 0.000215562 -0.00350461 \;
0.000376579 -0.00388892 \; 0.000528234 -0.00398968 \; 0.000641706 -0.00381291
\; 0.000692446 -0.003384 \; 0.000662833 -0.00274494 \; 0.000544116
-0.00195054 \; 0.000337511 -0.0010641 \; 5.43068e-05 -0.000152434 \;
-0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0
0 \; -0 0 \; -0 0 \; -0 0 \; 0.000515199 -0.000501807 \; 0.00107965
-0.000980147 \; 0.00159145 -0.00134599 \; 0.00200953 -0.00158203 \;
0.00229882 -0.00168253 \; 0.00243307 -0.00165287 \; 0.00239724 -0.00150837
\; 0.00218905 -0.00127239 \; 0.00181922 -0.000973668 \; 0.00131104
-0.000643548 \; 0.000698748 -0.000313061 \; 2.50224e-05 -1.01721e-05
\; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \;
-0 0 \; -0 0 \; -0 -0 \; \;;
#X coords -1 -1 1 1 164 165 2 100 100;
#X restore 512 183 pd \$0-scope;
#X obj 313 200 hoa.2d.process~ 7 ../patchers/hoa.gui.2d.scope~ harmonics
\$0-scope \$0-scope-attrs, f 28;
#X text 534 85 The factor of widening (between 0 and 1), f 23;
#X text 6 30 hoa.2d.wider~ simulates fractional orders of decomposition
to reduce the precision of the sound field. When the factor of widening
is 0 sound field \, only the first hamonic Y[0 \, 0] remains and the
sound field is omni directional. By increasing the factor of widening
toward 1 \, the other harmonics appears in a logarithmic way \, increasing
the precision of the sound field that becomes more and more directional
until all the harmonics appeared. The weight of the harmonics are defined
by:, f 46;
#X text 6 198 with N the order of decomposition \, l the degree \,
m the azimuthal order and x the factor of widening., f 46;
#X text 6 184 W[l \, m](x) = x^l((1-x)(N-l)+1), f 46;
#X obj 313 54 ../misc/hoa.hgain~;
#X text 6 248 The (new) algorithm has the advantage to preserve a constant
amplitude for the sound field whatever the factor of widening., f
46;
#N canvas 0 22 450 300 source~ 0;
#X obj 29 203 *~, f 19;
#X obj 29 169 *~, f 9;
#X obj 80 140 *~, f 10;
#X obj 29 225 outlet~;
#X obj 29 16 phasor~ 234;
#X obj 29 37 lop~ 800;
#X obj 80 57 phasor~ 460;
#X obj 80 78 lop~ 1200;
#X obj 137 119 max~ 0.5;
#X obj 140 157 osc~ 7;
#X obj 140 179 max~ 0.15;
#X obj 137 97 osc~ 4;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 7 0;
#X connect 7 0 2 0;
#X connect 8 0 2 1;
#X connect 9 0 10 0;
#X connect 10 0 0 1;
#X connect 11 0 8 0;
#X restore 313 22 pd source~;
#N canvas 0 22 450 300 init 0;
#X obj 21 37 loadbang;
#X msg 21 59 0.666;
#X obj 21 81 s \$0-wfac;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 11 327 pd init;
#X obj 466 55 hoa.pi~ 0;
#X connect 2 0 14 15;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 14 0;
#X connect 5 1 14 1;
#X connect 5 2 14 2;
#X connect 5 3 14 3;
#X connect 5 4 14 4;
#X connect 5 5 14 5;
#X connect 5 6 14 6;
#X connect 5 7 14 7;
#X connect 5 8 14 8;
#X connect 5 9 14 9;
#X connect 5 10 14 10;
#X connect 5 11 14 11;
#X connect 5 12 14 12;
#X connect 5 13 14 13;
#X connect 5 14 14 14;
#X connect 6 0 25 0;
#X connect 8 0 7 0;
#X connect 8 1 7 1;
#X connect 8 2 7 2;
#X connect 8 3 7 3;
#X connect 8 4 7 4;
#X connect 8 5 7 5;
#X connect 8 6 7 6;
#X connect 8 7 7 7;
#X connect 8 8 7 8;
#X connect 8 9 7 9;
#X connect 8 10 7 10;
#X connect 8 11 7 11;
#X connect 8 12 7 12;
#X connect 8 13 7 13;
#X connect 8 14 7 14;
#X connect 8 15 7 15;
#X connect 14 0 16 0;
#X connect 14 0 8 0;
#X connect 14 1 16 1;
#X connect 14 1 8 1;
#X connect 14 2 16 2;
#X connect 14 2 8 2;
#X connect 14 3 16 3;
#X connect 14 3 8 3;
#X connect 14 4 16 4;
#X connect 14 4 8 4;
#X connect 14 5 16 5;
#X connect 14 5 8 5;
#X connect 14 6 16 6;
#X connect 14 6 8 6;
#X connect 14 7 16 7;
#X connect 14 7 8 7;
#X connect 14 8 16 8;
#X connect 14 8 8 8;
#X connect 14 9 16 9;
#X connect 14 9 8 9;
#X connect 14 10 16 10;
#X connect 14 10 8 10;
#X connect 14 11 16 11;
#X connect 14 11 8 11;
#X connect 14 12 16 12;
#X connect 14 12 8 12;
#X connect 14 13 16 13;
#X connect 14 13 8 13;
#X connect 14 14 16 14;
#X connect 14 14 8 14;
#X connect 21 0 5 0;
#X connect 23 0 21 0;
#X connect 25 0 5 1;
#X coords 0 433 1 432 100 60 0;
