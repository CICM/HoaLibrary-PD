#N canvas 738 157 547 498 10;
#X obj 219 418 outlet;
#X obj 138 418 outlet;
#X obj 37 301 c.prepend 0;
#X obj 37 99 hoa.thisprocess~;
#X obj 37 70 loadbang;
#X obj 68 272 c.prepend set;
#X obj 68 132 unpack s s, f 12;
#X obj 93 212 f 1;
#X obj 68 248 +;
#X text 291 152 Harmonics 2d : mode 0;
#X text 291 172 Harmonics 3d : mode 1;
#X obj 137 212 f 0;
#X obj 207 212 f 2;
#X obj 68 212 f 0;
#X text 291 192 Planewaves 2d : mode 2;
#X text 291 213 Planewaves 3d : mode 3;
#N canvas 796 105 450 300 harmonic_2d 0;
#X obj 65 23 inlet;
#X obj 182 232 outlet;
#X text 248 102 need to be interleaved;
#X text 249 73 Harmonics 2d;
#X obj 209 150 < 0;
#X obj 182 150 * 2;
#X obj 182 171 abs;
#X obj 182 192 - 0;
#X obj 182 122 t f f;
#X text 248 112 depending on their sign.;
#X text 248 132 0 \, -1 \, 1 \, -2 \, 2;
#X text 248 142 become;
#X text 248 152 0 \, 1 \, 2 \, 3 \, 4;
#X text 248 92 The index need;
#X text 248 172 if index < 0;
#X text 258 182 index = 2 * abs(index) - 1;
#X text 248 192 else;
#X text 258 202 index = 2 * abs(index);
#X obj 65 232 outlet;
#X obj 65 150 * 2;
#X obj 65 170 + 1;
#X obj 65 96 unpack 0 0 0, f 20;
#X connect 0 0 21 0;
#X connect 4 0 7 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 1 0;
#X connect 8 0 5 0;
#X connect 8 1 4 0;
#X connect 19 0 20 0;
#X connect 20 0 18 0;
#X connect 21 0 19 0;
#X connect 21 2 8 0;
#X restore 37 353 pd harmonic_2d;
#N canvas 622 126 485 297 harmonic_3d 0;
#X obj 65 23 inlet;
#X obj 126 202 outlet;
#X text 268 102 need to be interleaved;
#X text 268 92 The arguments need;
#X text 268 112 depending on their sign.;
#X text 268 142 become;
#X obj 65 56 unpack 0 0 0, f 21;
#X text 268 152 0 \, 1 \, 2 \, 3 \, 4 \, 5 \, 6...;
#X obj 126 175 +;
#X text 268 172 index is mapped like in 2d;
#X text 268 182 index is increment by (band - 1)^2;
#X obj 126 154 *, f 5;
#X obj 126 132 t f f;
#X obj 65 131 + 1;
#X obj 65 174 *, f 5;
#X obj 65 152 t f f;
#X obj 65 202 outlet;
#X text 269 73 Harmonics 3d;
#X text 268 132 0 0 \, 1 -1 \, 1 0 \, 1 1 \, 2 -2 \, 2 -1...;
#X obj 215 109 < 0;
#X obj 188 109 * 2;
#X obj 188 130 abs;
#X obj 188 151 - 0;
#X obj 188 81 t f f;
#X connect 0 0 6 0;
#X connect 6 0 13 0;
#X connect 6 1 12 0;
#X connect 6 2 23 0;
#X connect 8 0 1 0;
#X connect 11 0 8 0;
#X connect 12 0 11 0;
#X connect 12 1 11 1;
#X connect 13 0 15 0;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 15 1 14 1;
#X connect 19 0 22 1;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 8 1;
#X connect 23 0 20 0;
#X connect 23 1 19 0;
#X restore 138 355 pd harmonic_3d;
#N canvas 122 76 450 300 planewaves_2d_3d 1;
#X obj -32 13 inlet;
#X obj 25 130 outlet;
#X obj 25 99 - 1;
#X text 82 80 Planewaves 2d or 3d;
#X text 82 100 Decrement the index;
#X text 82 110 by 1;
#X obj -32 75 unpack 0 0;
#X obj -32 130 outlet;
#X connect 0 0 6 0;
#X connect 2 0 1 0;
#X connect 6 0 7 0;
#X connect 6 1 2 0;
#X restore 239 356 pd planewaves_2d_3d;
#X text 48 441 Number of instances;
#X text 224 442 Index of the instances;
#X text 30 9 This patch retrieves the number of instances and indices
of each ones. The indices are in the range 0 to number of instances
minus one. (0 \, 1 \, 2 \, 3 \, etc.).;
#X obj 68 160 sel 2d 3d;
#X obj 137 160 sel harmonics planewaves;
#X obj 368 418 outlet;
#X obj 410 418 outlet;
#X obj 37 329 route 0 1 2 3, f 68;
#X connect 2 0 26 0;
#X connect 3 0 2 0;
#X connect 3 1 6 0;
#X connect 3 2 24 0;
#X connect 3 3 25 0;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X connect 6 0 22 0;
#X connect 6 1 23 0;
#X connect 7 0 8 0;
#X connect 8 0 5 0;
#X connect 11 0 8 1;
#X connect 12 0 8 1;
#X connect 13 0 8 0;
#X connect 16 0 1 0;
#X connect 16 1 0 0;
#X connect 17 0 1 0;
#X connect 17 1 0 0;
#X connect 18 0 1 0;
#X connect 18 1 0 0;
#X connect 22 0 13 0;
#X connect 22 1 7 0;
#X connect 23 0 11 0;
#X connect 23 1 12 0;
#X connect 26 0 16 0;
#X connect 26 1 17 0;
#X connect 26 2 18 0;
#X connect 26 3 18 0;
