#N canvas 309 163 1067 544 10;
#X obj 78 35 c.loadmess;
#N canvas 417 312 450 300 array_error 0;
#X obj 41 112 sel unknown_array;
#X msg 41 137 : The buffer is not defined.;
#X obj 41 90 c.prepend symbol;
#X obj 41 48 inlet;
#X obj 169 184 outlet;
#X obj 41 162 print hoa.grain~;
#X connect 0 0 1 0;
#X connect 0 1 4 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X restore 661 200 pd array_error;
#X text 688 169 Post an error if the;
#X text 688 179 buffer is not defined;
#X text 646 146 Array must be defined as an argument.;
#X obj 78 62 hoa.thisprocess~ unknown_array @size 100 @delay 1000 @feedback
0.5 @rarefaction 0, f 82;
#X text 335 96 Extra 1 Retreive the inlet messages.;
#X obj 387 119 hoa.in extra 1;
#X text 414 150 Input messages selector;
#X obj 387 170 route size delay feedback rarefaction array;
#X obj 387 428 * 1, f 5;
#X obj 438 428 * 1, f 5;
#X obj 387 398 t b f;
#X obj 438 398 t b f;
#X obj 336 362 hoa.in~ extra 1;
#X obj 336 500 hoa.out~;
#N canvas 697 140 608 675 hoa_granular----------------------------
0;
#X obj 564 175 clip~ 0 1;
#X obj 564 138 line~;
#X obj 542 440 *~;
#X obj 263 362 *~;
#X obj 34 315 *~ 513;
#X obj 136 131 random;
#X obj 136 207 +;
#X obj 136 109 metro;
#X obj 136 180 t b f;
#X obj 136 75 c.loadmess 1;
#X obj -6 114 c.prepend set;
#X obj 136 154 * 0.1;
#X obj 34 281 phasor~ 1;
#X msg 564 114 \$1 20;
#X obj 34 344 tabread4~;
#X obj 393 272 samphold~;
#X obj 393 130 noise~;
#X obj 393 159 *~ 1;
#X obj 393 187 +~;
#X obj 393 244 +~ 1;
#X obj 393 213 abs~;
#X obj 439 130 * 0.1;
#X obj 263 316 samphold~;
#X obj 263 179 +~ 1;
#X obj 263 205 *~ 0.5;
#X obj 263 139 noise~;
#N canvas 65 381 450 300 delme 0;
#X obj 89 47 inlet~;
#X obj 88 264 outlet~;
#X obj 37 48 inlet~;
#X obj -17 50 inlet~;
#X obj 56 167 *~;
#X obj 88 201 vd~ \$0-hoa_grain;
#X obj 89 127 delwrite~ \$0-hoa_grain 5500;
#X obj 88 172 +~ 2;
#X connect 0 0 6 0;
#X connect 2 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 5 0 1 0;
#X connect 7 0 5 0;
#X restore 542 324 pd delme;
#X obj 135 230 t b f;
#X obj 34 260 /;
#X msg 53 223 1000;
#N canvas 0 22 450 300 >~ 0;
#X obj 67 114 max~ 0;
#X obj 67 175 -~ 0;
#X obj 130 188 /~;
#X obj 130 152 sig~ -1;
#X obj 145 114 -~;
#X obj 67 212 *~;
#X obj 67 17 inlet~;
#X obj 67 252 outlet~;
#X obj 132 15 inlet;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 5 1;
#X connect 3 0 2 0;
#X connect 4 0 2 1;
#X connect 5 0 7 0;
#X connect 6 0 0 0;
#X connect 6 0 4 1;
#X connect 8 0 4 0;
#X connect 8 0 1 1;
#X connect 8 0 0 1;
#X restore 263 234 pd >~ 1;
#X obj 53 61 inlet~;
#X obj 490 565 outlet~;
#X obj 495 4 inlet;
#X obj 362 17 inlet;
#X obj 313 19 inlet;
#X obj 161 43 inlet;
#X obj 218 23 inlet;
#X connect 0 0 26 1;
#X connect 1 0 0 0;
#X connect 2 0 32 0;
#X connect 3 0 2 1;
#X connect 4 0 14 0;
#X connect 5 0 11 0;
#X connect 6 0 27 0;
#X connect 6 0 28 1;
#X connect 7 0 5 0;
#X connect 8 0 6 0;
#X connect 8 1 6 1;
#X connect 9 0 7 0;
#X connect 10 0 14 0;
#X connect 11 0 8 0;
#X connect 12 0 4 0;
#X connect 12 0 15 1;
#X connect 12 0 22 1;
#X connect 13 0 1 0;
#X connect 14 0 3 1;
#X connect 15 0 26 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 20 0;
#X connect 19 0 15 0;
#X connect 20 0 19 0;
#X connect 21 0 17 1;
#X connect 22 0 3 0;
#X connect 23 0 24 0;
#X connect 24 0 30 0;
#X connect 25 0 23 0;
#X connect 26 0 2 0;
#X connect 27 0 29 0;
#X connect 27 1 28 1;
#X connect 28 0 12 0;
#X connect 29 0 28 0;
#X connect 30 0 22 0;
#X connect 31 0 26 2;
#X connect 33 0 10 0;
#X connect 34 0 30 1;
#X connect 35 0 13 0;
#X connect 36 0 6 0;
#X connect 36 0 7 1;
#X connect 36 0 5 1;
#X connect 37 0 21 0;
#X connect 37 0 18 1;
#X restore 336 466 pd hoa_granular----------------------------;
#X obj 241 91 hoa.mode.sel;
#X obj 78 131 hoa.args.map;
#X text 357 11 This hoa.processing synthesizes a sound field with quasi-synchronous
granular synthesis.;
#X text 211 363 Receive the signal;
#X text 218 500 Output the signal;
#X obj 433 231 list split;
#X obj 461 255 unpack;
#X obj 387 203 route float list;
#X obj 484 368 list split;
#X obj 512 392 unpack;
#X obj 438 340 route float list;
#X obj 535 311 list split;
#X obj 563 335 unpack;
#X obj 489 283 route float list;
#X obj 586 228 list split;
#X obj 614 252 unpack;
#X obj 540 200 route float list;
#X text 693 227 list : The item is selected depending on the instance
and directly set the grain size \, the delay \, the feedback or the
rarefaction of the instance (mostly used in the plane waves domain).
;
#X text 693 397 array : The array defines the envelope of the granulation
and is shared by all the instances (exept if you use the target message
to it).;
#X text 693 287 float : The grain size values are mapped depending
on the intance and increase while the index and the band of the harmonics
increase. The delay time values are mapped depending on the intance
and decrease while the index and the band of the harmonics increase.
The feedback and rarefaction values are not mapped thus all the instances
have the same values (exept if you use the target message to it).;
#X obj 85 233 + 1;
#X obj 86 257 / 1;
#X obj 86 301 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0.0666667 256;
#X obj 147 198 / 1;
#X obj 147 221 t b f;
#X obj 147 262 -;
#X msg 147 240 1;
#X obj 147 301 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 1 256;
#X text 148 343 factor;
#X text 144 323 instance;
#X text 150 333 delay;
#X text 88 343 factor;
#X text 84 323 instance;
#X text 90 333 size;
#X obj 487 119 hoa.in extra 2;
#X connect 0 0 5 0;
#X connect 1 0 16 5;
#X connect 5 0 18 0;
#X connect 5 1 17 0;
#X connect 5 2 1 0;
#X connect 5 3 9 0;
#X connect 7 0 9 0;
#X connect 9 0 24 0;
#X connect 9 1 27 0;
#X connect 9 2 30 0;
#X connect 9 3 33 0;
#X connect 9 4 16 5;
#X connect 10 0 16 1;
#X connect 11 0 16 2;
#X connect 12 0 10 0;
#X connect 12 1 10 1;
#X connect 13 0 11 0;
#X connect 13 1 11 1;
#X connect 14 0 16 0;
#X connect 16 0 15 0;
#X connect 17 0 18 1;
#X connect 18 0 38 1;
#X connect 18 0 40 1;
#X connect 18 1 37 0;
#X connect 18 1 40 0;
#X connect 18 1 22 1;
#X connect 18 1 28 1;
#X connect 18 1 25 1;
#X connect 18 1 31 1;
#X connect 22 1 23 0;
#X connect 23 0 16 1;
#X connect 24 0 10 0;
#X connect 24 1 22 0;
#X connect 25 1 26 0;
#X connect 26 0 16 2;
#X connect 27 0 11 0;
#X connect 27 1 25 0;
#X connect 28 1 29 0;
#X connect 29 0 16 3;
#X connect 30 0 16 3;
#X connect 30 1 28 0;
#X connect 31 1 32 0;
#X connect 32 0 16 4;
#X connect 33 0 16 4;
#X connect 33 1 31 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 38 0 12 0;
#X connect 40 0 41 0;
#X connect 41 0 43 0;
#X connect 41 1 42 1;
#X connect 42 0 44 0;
#X connect 42 0 13 0;
#X connect 43 0 42 0;
#X connect 51 0 9 0;
